#!/bin/bash
################################################################
# Script to generate a file with all IP v4 address from a CIDR.
#
# Requirement software:
#   mapcidr: https://github.com/projectdiscovery/mapcidr
################################################################
if [ "$#" -lt 1 ]; then
    script_name=$(basename "$0")
    echo "Usage:"
    echo "   $script_name [IP_RANGE_AS_CIDR]"
    echo ""
    echo "Call example:"
    echo "    $script_name 192.168.178.0/24"
	echo "    $script_name 192.168.0.0/16"
    exit 1
fi
result="ips.txt"
range="$1"
echo "[+] Expand '$range' to file '$result'..."
mapcidr -silent -cidr $range -s > $result
echo "[V] Done: $(wc -l $result | cut -d' ' -f1) addresses generated."
